<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
    <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
    <title>Cargas</title>
    <link rel="icon" href="/img/favicon.ico" type="image/x-icon">
    <!-- styles -->
    <link rel="stylesheet" href="/css/styles.css">
  </head>
  <body class="antialiased">
    <div class="wrapper">
      <%- include('../../partials/headerSesion') %>
      <%- include('../../partials/navbar') %>
      <div class="page-wrapper">
        <div class="page-body">
          <div class="container-xl">
            <div class="row">
              <div class="col-12">
                <div class="card">
                  <div class="card-header">
                    <h3 class="card-title">Cargas</h3>
                    <div class="col-auto ms-auto">
                      <div class="d-flex">
                        <form action="/admin/cargas" method="GET">
                          <div class="input-icon me-3">
                            <span class="input-icon-addon">
                              <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2"
                                stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                <circle cx="10" cy="10" r="7"></circle>
                                <line x1="21" y1="21" x2="15" y2="15"></line>
                              </svg>
                            </span>
                            <input type="text" class="form-control d-inline-block me-3" id="buscarCargaBox" name="part"
                              placeholder="Buscar..." aria-label="Buscar en oficinas">
                          </div>
                        </form>
                        <a href="" id="new" class="btn">
                          <svg xmlns="http://www.w3.org/2000/svg" class="icon" height="24" width="24" viewBox="0 0 24 24">
                            <path d="M11.25 18.75v-6h-6v-1.5h6v-6h1.5v6h6v1.5h-6v6Z" />
                          </svg>
                          Nueva Carga
                        </a>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <table class="table table-vcenter table-striped sortable" id="tblCargas">
                      <tr class="header">
                        <th class="w-4"></th>
                        <th class="w-6">Fecha</th>
                        <th>Nombre</th>
                        <th>Fichero</th>
                        <th>Referencia</th>
                        <th class="w-6">Registros</th>
                      </tr>
                      </thead>
                      <tbody id="table-body">
                      </tbody>
                    </table>
                    <div id="pagination-wrapper" class="py-1"></div>
                  </div>
                </div>                
              </div>
            </div>
          </div>
        </div>
      </div>
      <%- include('../../partials/footer') %>
    </div>

    <script>
      const hasNexts = <%- datos.hasNexts %>
    </script>
    <script>
      const hasPrevs = <%- datos.hasPrevs %>
    </script>
    <script src="/js/ayuda.min.js"></script>
    <script src="/js/admin/indexCargas.js"></script>
    <script>
      buildTable(<%- JSON.stringify(datos.cargas) %>, <%- JSON.stringify(datos.cursor) %>)
    </script>
  </body>
</html>